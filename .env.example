# ImpactOS Environment Variables
# Copy this file to .env and fill in real values. NEVER commit .env.

# =============================================================================
# Database (Postgres 16 + pgvector via Docker Compose)
# =============================================================================
DATABASE_URL=postgresql+asyncpg://impactos:impactos@localhost:5432/impactos
# Inside Docker containers, use: postgresql+asyncpg://impactos:impactos@postgres:5432/impactos

# =============================================================================
# Redis (broker + cache)
# =============================================================================
REDIS_URL=redis://localhost:6379/0
# Inside Docker containers, use: redis://redis:6379/0

# =============================================================================
# Celery (job queue broker)
# =============================================================================
CELERY_BROKER_URL=redis://localhost:6379/0
# Inside Docker containers, use: redis://redis:6379/0

# =============================================================================
# Object Storage (MinIO — S3-compatible)
# =============================================================================
OBJECT_STORAGE_BACKEND=minio
MINIO_ENDPOINT=localhost:9000
# Inside Docker containers, use: minio:9000
MINIO_ACCESS_KEY=impactos
MINIO_SECRET_KEY=impactos-secret
MINIO_BUCKET=impactos-data
MINIO_USE_SSL=false

# =============================================================================
# LLM API Keys (external only — no local LLM)
# =============================================================================
ANTHROPIC_API_KEY=sk-ant-REPLACE_ME
OPENAI_API_KEY=sk-REPLACE_ME
OPENROUTER_API_KEY=sk-or-REPLACE_ME
LLM_DEFAULT_PROVIDER=anthropic

# =============================================================================
# Document Extraction
# =============================================================================
EXTRACTION_PROVIDER=local
# Azure Document Intelligence (uncomment for production PDF extraction)
# EXTRACTION_PROVIDER=azure_di
# AZURE_DI_ENDPOINT=https://YOUR_RESOURCE.cognitiveservices.azure.com
# AZURE_DI_KEY=REPLACE_ME

# =============================================================================
# Security
# =============================================================================
SECRET_KEY=dev-secret-change-in-production
ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=true

# =============================================================================
# Classification-based LLM routing
# =============================================================================
RESTRICTED_LLM_POLICY=disabled
CONFIDENTIAL_LLM_PROVIDERS=anthropic,openai
PUBLIC_LLM_PROVIDERS=anthropic,openai,openrouter

# =============================================================================
# Logging & Environment
# =============================================================================
LOG_LEVEL=INFO
ENVIRONMENT=dev
